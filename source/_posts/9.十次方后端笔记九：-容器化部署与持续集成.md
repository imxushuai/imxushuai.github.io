---
title: åæ¬¡æ–¹åç«¯ç¬”è®°ä¹ï¼šå®¹å™¨åŒ–éƒ¨ç½²ä¸æŒç»­é›†æˆ
tags:
  - åæ¬¡æ–¹å®¹å™¨åŒ–éƒ¨ç½²
  - åæ¬¡æ–¹æŒç»­é›†æˆ
  - Gogs
  - Jenkins
categories:
  - åæ¬¡æ–¹é¡¹ç›®
abbrlink: 51086
date: 2002-01-02 00:00:09
---

<center><i>ä½¿ç”¨ Docker + DockerMaven + Jenkins æ„å»ºæŒç»­é›†æˆç¯å¢ƒ</i></center>

![](https://dev.tencent.com/u/imxushuai/p/pic/git/raw/master/tensquare.jpg)

<!-- more -->

> Dockerfileä¸DockerMavençš„ä½¿ç”¨ä¸æ“ä½œå‚è€ƒï¼š
>
> [ä½¿ç”¨dockerfileæ„å»ºé•œåƒä¸Šä¼ åˆ°äº‘ç«¯](https://www.imxushuai.com/2019/05/06/ä½¿ç”¨dockerfileæ„å»ºé•œåƒä¸Šä¼ åˆ°äº‘ç«¯/)
>
> [dockermavenæ„å»ºé•œåƒå¹¶ä¸Šä¼ äº‘ç«¯](https://www.imxushuai.com/2019/05/08/dockermavenæ„å»ºé•œåƒå¹¶ä¸Šä¼ äº‘ç«¯/)

# æŒç»­é›†æˆ

å®‰è£…`Gogs`å’Œ`Jenkins`å¹¶è¿è¡Œã€‚

å‚è€ƒæ–‡ç« ï¼š

ğŸ‘‰ğŸ‘‰	[gogsçš„å®‰è£…å’Œä½¿ç”¨](https://www.imxushuai.com/2019/05/12/gogsçš„å®‰è£…å’Œä½¿ç”¨/)

ğŸ‘‰ğŸ‘‰	[Jenkinså®‰è£…](https://www.imxushuai.com/2019/05/13/Jenkinså®‰è£…/)

## é…ç½®Jekins

### å®‰è£…Maven

1. ä¸Šä¼ `Maven`å‹ç¼©åŒ…åˆ°æœåŠ¡å™¨

2. å®‰è£…Mavenï¼Œè§£å‹å³ç”¨ã€‚

   ```shell
   tar -zxvf apache-maven-3.3.9-bin.tar.gz
   ```

3. é…ç½®`settings.xml`ï¼Œä¿®æ”¹æœ¬åœ°ä»“åº“ä½ç½®å¹¶æ·»åŠ `docker maven`æ’ä»¶ç»„

   ```shell
   # éœ€è¦å…ˆè¿›å…¥åˆ°mavenå®‰è£…ç›®å½•çš„confç›®å½•ä¸­
   vim settings.xml
   ```

   é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

   ```xml
   <?xml version="1.0" encoding="UTF-8"?>
   
   <settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">
     
       <localRepository>/usr/local/repository</localRepository>
     <pluginGroups>
       <pluginGroup>com.spotify</pluginGroup>
     </pluginGroups>
     <proxies>
     </proxies>
     <servers>
     </servers>
     <mirrors>
     </mirrors>
     <profiles>
     </profiles>
   </settings>
   ```

4. ä¸Šä¼ maven repositoryåˆ°æœåŠ¡å™¨ï¼Œæˆ–è€…è¿è¡Œæ—¶ä¸‹è½½jaråŒ…ä¹Ÿè¡Œã€‚

### å…¨å±€é…ç½®

1. é…ç½®`JDK`

   ![](https://dev.tencent.com/u/imxushuai/p/pic/git/raw/master/20190629235127.png)

   JAVA_HOMEä»¥å®é™…ä¸ºå‡†

2. `Git`é…ç½®ä¿æŒé»˜è®¤

3. é…ç½®`Maven`

   ![](https://dev.tencent.com/u/imxushuai/p/pic/git/raw/master/20190629235331.png)

   MAVEN_HOMEä»¥å®é™…ä¸ºå‡†

4. **ç‚¹å‡»`ä¿å­˜`ï¼Œå®Œæˆé…ç½®ã€‚**

## Jenkinsä½¿ç”¨

### æ–°å»ºä»»åŠ¡

1. ç‚¹å‡»`æ–°å»ºitem`ï¼Œè¾“å…¥åç§°å¹¶é€‰æ‹©`æ„å»ºä¸€ä¸ªMavené¡¹ç›®`ï¼Œç„¶åç‚¹å‡»`ç¡®å®š`ã€‚

   ![](https://dev.tencent.com/u/imxushuai/p/pic/git/raw/master/20190629235834.png)

2. `æºç ç®¡ç†`é€‰æ‹©`Git`å¹¶è¾“å…¥`Repository URL`ã€‚

   ![](https://dev.tencent.com/u/imxushuai/p/pic/git/raw/master/20190630001008.png)

3. Build

   ![](https://dev.tencent.com/u/imxushuai/p/pic/git/raw/master/20190630001128.png)

4. ç‚¹å‡»`ä¿å­˜`ï¼Œå®Œæˆä»»åŠ¡åˆ›å»º

### è¿è¡Œä»»åŠ¡

1. è¿”å›é¦–é¡µï¼Œç‚¹å‡»`è¿è¡Œ`æŒ‰é’®

   ![](https://dev.tencent.com/u/imxushuai/p/pic/git/raw/master/20190630002201.png)

2. ç‚¹å‡»å·¦ä¸‹æ–¹çš„è¿›åº¦æ¡ï¼ŒæŸ¥çœ‹æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œé€‰æ‹©æŸ¥çœ‹`æ§åˆ¶å°è¾“å‡º`

   ![](https://dev.tencent.com/u/imxushuai/p/pic/git/raw/master/20190630002355.png)

   æ‰§è¡ŒæˆåŠŸã€‚
   
3. å°†å…¶ä»–å¾®æœåŠ¡é‡‡ç”¨åŒæ ·çš„æ–¹å¼æ„å»ºä»»åŠ¡å¹¶æ‰§è¡Œå³å¯ã€‚

   ![](https://dev.tencent.com/u/imxushuai/p/pic/git/raw/master/20190630173421.png)

