---
title: 学成在线笔记二：前端开发
tags:
  - 学成在线项目
  - 黑马学成在线
  - 在线教育项目
  - 实战学成在线
  - 学成在线笔记
categories:
  - 学成在线  
date: 2020-06-10 23:37:50
---

<center><i>前端开发</i></center>

![](https://imxushuai-01.coding.net/p/pic/d/pic/git/raw/master/jiaoyu.jpg)


<!-- more -->

# CMS前端开发

## 导入工程（省略）

## 创建cms模块

在`src/module`下创建如下结构：

![](https://imxushuai-01.coding.net/p/pic/d/pic/git/raw/master/20190910222443.png)

## 页面Vue

这里我直接放入我写好的代码

修改`src/module/cms/page/page_list.vue`中的内容

```vue
  <template>
    <div>
        <el-button type="primary" icon="el-icon-search" @click="query" style="margin-top: 20px">查询</el-button>
        <el-table :data="tableData" style="width: 100%">
            <el-table-column prop="pageName" label="页面名称" width="400"></el-table-column>
            <el-table-column prop="pageAliase" label="别名" width="120"></el-table-column>
            <el-table-column prop="pageType" label="页面类型" width="150"></el-table-column>
            <el-table-column prop="pageWebPath" label="访问路径" width="250"></el-table-column>
            <el-table-column prop="pagePhysicalPath" label="物理路径" min-width="250"></el-table-column>
            <el-table-column prop="pageCreateTime" label="创建时间"></el-table-column>
        </el-table>
        <!-- 分页栏 -->
        <el-pagination
            @current-change="changePage"
            :current-page.sync="params.page"
            :page-size="params.size"
            layout="total, prev, pager, next"
            :total="total"
            style="float: right">
        </el-pagination>
    </div>
  </template>

  <script>
    import * as cmsApi from '../api/cms'
    export default {
      data() {
        return {
          tableData: [],
          total: 50,
          params: {
              page: 1,
              size: 20
          }
        }
      },
      methods: {
        // 分页查询
        changePage:function() {
            this.query()
        },
        // 查询
        query:function() {
            // 分页查询CMS页面
            console.log("当前页码：" + this.params.page + ", 当前记录数：" + this.params.size);
            cmsApi.page_list(this.params.page, this.params.size, this.params).then(res => {
                // 获取数据
                this.total = res.queryResult.total
                this.tableData = res.queryResult.list
            })
        }
      },
      mounted() {
          this.query()
      }
    }
  </script>
```

其中的页面分页、表格等，建议直接从`element ui`官网复制。

## 页面路由

1. 修改`src/module/cms/router/index.js`中的内容

   ```javascript
   import Home from '@/module/home/page/home.vue'; 
   import page_list from '@/module/cms/page/page_list.vue'; 
   export default [{ 
     path: '/cms', 
     component: Home, 
     name: 'CMS内容管理', 
     hidden: false, 
     children:[ {
       path:'/cms/page/list',
       name:'页面列表',
       component: page_list,
       hidden:false}
     ] 
   }]
   ```

2. 修改`src/base/router/index.js`中的内容，添加`cms`模块的路由

   ```javascript
   import Vue from 'vue'
   import Router from 'vue-router'
   // 导入路由规则
   import HomeRouter from '@/module/home/router'
   import CmsRouter from '@/module/cms/router' // 导入cms模块路由规则
   
   
   Vue.use(Router);
   // 定义路由配置
   let routes = []
   let concat = (router) => {
     routes = routes.concat(router)
   }
   
   // 合并路由规则
   concat(HomeRouter)
   concat(CmsRouter)// 新增cms模块路由
   export default routes;
   
   ```

## API方法调用定义

修改`src/module/cms/api/cms.js`中的内容

```javascript
import http from './../../../base/api/public'
export const page_list = (page,size,params) => { 
    return http.requestQuickGet('http://localhost:31001/cms/page/list/'+page+'/'+size) 
}
```

## 跨域问题解决

使用`proxyTable`解决跨域问题。

**机制：**

前端发送请求时，不再直接发送给后端服务器，而是发送给当前域的代理服务；然后由代理服务将请求发送给我后端服务器获取数据返回给前端页面。因为只有浏览器会存在跨域问题，而我们的请求是由代理服务发送出去的所有不存在跨域问题。

## 测试

![](https://imxushuai-01.coding.net/p/pic/d/pic/git/raw/master/20190910225428.png)

# 代码获取

[代码获取](https://www.imxushuai.com/2020/07/01/35.%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BF%E4%BB%A3%E7%A0%81%E8%8E%B7%E5%8F%96/)

