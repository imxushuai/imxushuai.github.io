---
title: è°·ç²’å•†åŸ-åˆ†å¸ƒå¼åŸºç¡€ç¯‡_01
tags:
  - è°·ç²’å•†åŸ
  - åˆ†å¸ƒå¼åŸºç¡€ç¯‡
  - è°·ç²’å•†åŸç¬”è®°
  - è°·ç²’å•†åŸè¯¾ä»¶
categories:
  - - è°·ç²’å•†åŸ
    - åˆ†å¸ƒå¼åŸºç¡€ç¯‡
abbrlink: 58890
date: 2021-12-13 23:36:28
---

<center><i>è°·ç²’å•†åŸç¯å¢ƒæ­å»ºä»¥åŠç®€ä»‹</i></center>

![](https://imxushuai-blog.oss-cn-chengdu.aliyuncs.com/gulimall_banner_base.png)

<!-- more -->

# ç¯å¢ƒæ­å»º

## å®‰è£…Linuxè™šæ‹Ÿæœº

> çœç•¥ï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒä¹ æƒ¯ä½¿ç”¨VM wareï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨çš„æ˜¯VM wareï¼Œè™½ç„¶å¯èƒ½å®‰è£…é•œåƒç¨å¾®éº»çƒ¦ç‚¹ã€‚

## å®‰è£…Docker

ğŸ‘‰[Dockerå®‰è£…](https://docs.docker.com/engine/install/centos/)ğŸ‘ˆ

1. å¸è½½æ—§ç‰ˆæœ¬

   ```shell
   sudo yum remove docker \
                     docker-client \
                     docker-client-latest \
                     docker-common \
                     docker-latest \
                     docker-latest-logrotate \
                     docker-logrotate \
                     docker-engine
   ```

2. è®¾ç½®å­˜å‚¨åº“

   ```shell
   sudo yum install -y yum-utils
   sudo yum-config-manager \
       --add-repo \
       https://download.docker.com/linux/centos/docker-ce.repo
   ```

3. å®‰è£…Docker

   ```shell
   sudo yum install docker-ce docker-ce-cli containerd.io
   ```

4. å¯åŠ¨Docker

   ```shell
   # å¯åŠ¨docker
   sudo systemctl start docker
   # æŸ¥çœ‹å…¶ç‰ˆæœ¬
   sudo docker -v
   # Docker version 20.10.11, build dea9396
   ```

5. é…ç½®DockeråŠ é€Ÿï¼Œç™¾åº¦è§£å†³

## Dockerå®‰è£…mysql

1. ä¸‹è½½MySQLé•œåƒ

   ```shell
   # ä¸‹è½½MySQL5.7é•œåƒ
   docker pull mysql:5.7
   # ç­‰å¾…ä¸‹è½½æˆåŠŸ
   # æŸ¥çœ‹é•œåƒ
   docker images
   ```

2. ä½¿ç”¨é•œåƒåˆ›å»ºå®¹å™¨

   ```shell
   docker run -p 3306:3306 --name mysql \
   -v /mydata/mysql/log:/var/log/mysql \
   -v /mydata/mysql/data:/var/lib/mysql \
   -v /mydata/mysql/conf:/etc/mysql \
   -e MYSQL_ROOT_PASSWORD=root \
   -d mysql:5.7
   ```

   - -vï¼šå°†å®¿ä¸»æœºçš„æ–‡ä»¶å¤¹æ˜ å°„åˆ°å®¹å™¨ä¸­çš„å¯¹è±¡
   - -eï¼šé•œåƒæä¾›çš„ç›¸å…³å‚æ•°å˜é‡
   - -dï¼šé€‰æ‹©çš„é•œåƒä»¥åŠç‰ˆæœ¬
   - --nameï¼šé•œåƒåç§°
   - -pï¼šå°†å®¹å™¨çš„ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœº

3. ä¿®æ”¹MySQLé…ç½®æ–‡ä»¶

   ```shell
   # è¿›å…¥æ˜ å°„çš„ç›®å½•
   cd /mydata/mysql/conf
   
   # åˆ›å»ºé…ç½®æ–‡ä»¶å¹¶å½•å…¥é…ç½®
   cat <<EOF> my.cnf
   [client]
   default-character-set=utf8
   [mysql]
   default-character-set=utf8
   [mysqld]
   init_connect='SET collation_connection = utf8_unicode_ci'
   init_connect='SET NAMES utf8'
   character-set-server=utf8
   collation-server=utf8_unicode_ci
   skip-character-set-client-handshake
   skip-name-resolve
   EOF
   
   # é‡å¯dockerå®¹å™¨ 
   docker restart mysql
   ```

4. ï¼ˆå¯é€‰æ“ä½œï¼‰è®¾ç½®MySQLå®¹å™¨è‡ªå¯åŠ¨

   ```shell
   docker update mysql --restart=always
   ```

## Dockerå®‰è£…Redis

1. ä¸‹è½½Redisé•œåƒ

   ```shell
   # ä¸‹è½½æœ€æ–°ç‰ˆæœ¬Redisé•œåƒ
   docker pull redis
   # ç­‰å¾…ä¸‹è½½å®Œæˆ 
   # æŸ¥çœ‹é•œåƒ
   docker images
   ```

2. å‡†å¤‡å¤–éƒ¨é…ç½®æ–‡ä»¶

   ```shell
   # åˆ›å»ºé…ç½®æ–‡ä»¶ç›®å½•
   mkdir -p /mydata/redis/conf
   # åˆ›å»ºé…ç½®æ–‡ä»¶
   touch /mydata/redis/conf/redis.conf
   # è®¾ç½®redisæ•°æ®æŒä¹…åŒ–
   echo "appendonly yes"  >> /mydata/redis/conf/redis.conf
   ```

3. ä½¿ç”¨é•œåƒåˆ›å»ºå®¹å™¨

   ```shell
   # åˆ›å»ºRediså®¹å™¨
   docker run -p 6379:6379 --name redis -v /mydata/redis/data:/data \
   -v /mydata/redis/conf/redis.conf:/etc/redis/redis.conf \
   -d redis redis-server /etc/redis/redis.conf
   ```

4. æµ‹è¯•Redisæ˜¯å¦å¯ä»¥æ­£å¸¸ä½¿ç”¨

## åˆ›å»ºMavenå·¥ç¨‹

> åˆ›å»ºMavenä¸»å·¥ç¨‹ï¼šgulimall
>
> åˆ†åˆ«åˆ›å»ºMavenå­å·¥ç¨‹ï¼š
>
> - gulimall-productï¼šå•†å“æœåŠ¡
> - gulimall-orderï¼šè®¢å•æœåŠ¡
> - gulimall-wareï¼šä»“å‚¨æœåŠ¡
> - gulimall-couponï¼šä¼˜æƒ åˆ¸æœåŠ¡
> - gulimall-memberï¼šä¼šå‘˜æœåŠ¡

å­å·¥ç¨‹ä½¿ç”¨ç›¸åŒçš„Mavenä¾èµ–ï¼Œå¦‚ä¸‹ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>2.6.1</version>
        <relativePath/> <!-- lookup parent from repository -->
    </parent>
    <groupId>com.imxushuai.gulimall</groupId>
    <artifactId>gulimall-product</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>gulimall-product</name>
    <description>è°·ç²’å•†åŸ-å•†å“æœåŠ¡</description>
    <properties>
        <java.version>1.8</java.version>
        <spring-cloud.version>2021.0.0</spring-cloud.version>
    </properties>
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-starter-openfeign</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>org.springframework.cloud</groupId>
                <artifactId>spring-cloud-dependencies</artifactId>
                <version>${spring-cloud.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
        </dependencies>
    </dependencyManagement>

    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>

</project>
```

## åˆ›å»ºæ•°æ®åº“å¹¶æ‰§è¡ŒSQLè¯­å¥

> çœç•¥

## äººäººå¼€æº

> ä¸‹è½½äººäººå¼€æºçš„`renren-fast`ä»¥åŠ`renren-fast-vue`é¡¹ç›®

[renren-fast](https://gitee.com/renrenio/renren-fast)

[renren-fast-vue](https://gitee.com/renrenio/renren-fast-vue)

### renren-fast

1. å¤åˆ¶renren-fasté¡¹ç›®åˆ°gulimall
2. åˆ›å»ºæ•°æ®åº“gulimall-adminå¹¶ä½¿ç”¨sqlæ–‡ä»¶å¯¹æ•°æ®åº“è¿›è¡Œåˆå§‹åŒ–
3. ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®æ­£ç¡®çš„æ•°æ®åº“åœ°å€
4. å¯åŠ¨é¡¹ç›®

### renren-fast-vue

1. å®‰è£…nodeç¯å¢ƒ

2. è®¾ç½®npmæ·˜å®é•œåƒ

   ```shell
   npm config set registry http://registry.npm.taobao.org/
   ```

3. æ‰§è¡Œ`npm install`

4. å¯åŠ¨

   ```shell
   npm run dev
   ```

5. è®¿é—®ï¼š[localhost:8001](http://localhost:8001/)ï¼ŒæŸ¥çœ‹æ˜¯å¦æˆåŠŸå¯åŠ¨ã€‚é»˜è®¤è´¦å·å¯†ç ï¼šadmin/admin

   ![](https://imxushuai-blog.oss-cn-chengdu.aliyuncs.com/renren-fast-test.png)

## å¿«é€Ÿå¼€å‘-é€†å‘å·¥ç¨‹

> ä¸‹è½½äººäººå¼€æºçš„`renren-generator`é¡¹ç›®

[renren-generator](https://gitee.com/renrenio/renren-generator)

1. æ‰“å¼€é¡¹ç›®ï¼Œä¸‹è½½ç›¸å…³Mavenä¾èµ–
2. ä¿®æ”¹æ•°æ®åº“é…ç½®æ–‡ä»¶è¿è¡Œé¡¹ç›®
3. ç”Ÿæˆé€†å‘å·¥ç¨‹æ–‡ä»¶
4. å°†ç”Ÿæˆçš„é€†å‘å·¥ç¨‹æ–‡ä»¶å¤åˆ¶åˆ°é¡¹ç›®ä¸­å¹¶è§£å†³å…¶æŠ¥é”™æƒ…å†µ

### gulimall-common

1. ä¾èµ–

   ```xml
   <?xml version="1.0" encoding="UTF-8"?>
   <project xmlns="http://maven.apache.org/POM/4.0.0"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
       <parent>
           <artifactId>gulimall</artifactId>
           <groupId>com.imxushuai.gulimall</groupId>
           <version>0.0.1-SNAPSHOT</version>
       </parent>
       <modelVersion>4.0.0</modelVersion>
   
       <artifactId>gulimall-common</artifactId>
   
       <dependencies>
           <dependency>
               <groupId>com.baomidou</groupId>
               <artifactId>mybatis-plus-boot-starter</artifactId>
               <version>3.2.0</version>
           </dependency>
           <dependency>
               <groupId>org.projectlombok</groupId>
               <artifactId>lombok</artifactId>
               <version>1.18.22</version>
           </dependency>
           <dependency>
               <groupId>org.apache.httpcomponents</groupId>
               <artifactId>httpcore</artifactId>
               <version>4.4.15</version>
           </dependency>
           <dependency>
               <groupId>commons-lang</groupId>
               <artifactId>commons-lang</artifactId>
               <version>2.6</version>
           </dependency>
       </dependencies>
   </project>
   ```

2. å¤åˆ¶å·¥å…·ç±»åˆ°gulimall-common

### å…¶ä»–å¾®æœåŠ¡

> å…¶ä»–å¾®æœåŠ¡æ‹·è´é€†å‘å·¥ç¨‹æ–‡ä»¶åéœ€è¦åšä¸€äº›é…ç½®

1. æ·»åŠ ä¾èµ–

   ```xml
   <!-- gulimall-common -->
   <dependency>
       <groupId>com.imxushuai.gulimall</groupId>
       <artifactId>gulimall-common</artifactId>
       <version>0.0.1-SNAPSHOT</version>
   </dependency>
   ```

2. æ·»åŠ é…ç½®æ–‡ä»¶ï¼šapplication.ymlï¼ˆéœ€è¦åˆ é™¤application.propertiesï¼‰

   æ³¨æ„æ¯ä¸ªå¾®æœåŠ¡çš„æ•°æ®åº“urlä¸ä¸€æ ·ä»¥åŠç«¯å£ä¸ä¸€æ ·

   ```yaml
   spring:
     datasource:
       username: root
       password: root
       url: jdbc:mysql://192.168.149.151:3306/gulimall_sms
       driver-class-name: com.mysql.jdbc.Driver
   mybatis-plus:
     mapper-locations: classpath:/mapper/**/*.xml
     global-config:
       db-config:
         id-type: auto
   server:
     port: 7000
   ```

3. å¯åŠ¨ç±»æ·»åŠ `@MapperScan`æ³¨è§£

   ```java
   package com.imxushuai.gulimall.coupon;
   
   import org.mybatis.spring.annotation.MapperScan;
   import org.springframework.boot.SpringApplication;
   import org.springframework.boot.autoconfigure.SpringBootApplication;
   
   @SpringBootApplication
   @MapperScan("com.imxushuai.gulimall.coupon.dao")
   public class GulimallCouponApplication {
   
       public static void main(String[] args) {
           SpringApplication.run(GulimallCouponApplication.class, args);
       }
   
   }
   ```

4. å¯åŠ¨æµ‹è¯•ï¼ŒæŸ¥çœ‹è°ƒç”¨APIæ˜¯å¦æ­£å¸¸

