<!-- - var pageTitle = page.title || config.subtitle || ''// ä¿®æ”¹é¦–é¡µçš„title--><!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Rediså®‰è£…ä»¥åŠé…ç½®è¯¦è§£"><meta name="keywords" content="Redis,Rediså®‰è£…,Redisé…ç½®è¯¦è§£,gcc-c++"><meta name="author" content="imxushuai"><meta name="copyright" content="imxushuai"><meta name="baidu-site-verification" content="B3htTw43Gg"><meta name="google-site-verification" content="o2KrBdxV2bs7OPjZSdarNWbV6uC2WAtFOGQEbGAZJOo"><title>Rediså®‰è£…ä»¥åŠé…ç½®è¯¦è§£ | imxushuai</title><link rel="shortcut icon" href="/B.png"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><script>((function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
  bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
}
  else {
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
}
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})());

</script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-8123778246943935',
  enable_page_level_ads: true
});
</script><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ee77185761e9c3e3a277dac848c66c44";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-140233731-1', 'auto');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"0AG6VKDJB8","apiKey":"1acca465cd19291fd2e30fc0bde470b9","indexName":"search","hits":{"per_page":10},"languages":{"input_placeholder":"æœç´¢æ–‡ç« ","hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’"}},
  localSearch: undefined,
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  }
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="åˆ‡æ¢æ–‡ç« è¯¦æƒ…">åˆ‡æ¢ç«™ç‚¹æ¦‚è§ˆ</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å®‰è£…Redisä¾èµ–"><span class="toc-number">1.</span> <span class="toc-text">å®‰è£…Redisä¾èµ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å®‰è£…gcc-c"><span class="toc-number">1.1.</span> <span class="toc-text">å®‰è£…gcc-c++</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#åœ¨çº¿å®‰è£…"><span class="toc-number">1.1.1.</span> <span class="toc-text">åœ¨çº¿å®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ç¦»çº¿å®‰è£…"><span class="toc-number">1.1.2.</span> <span class="toc-text">ç¦»çº¿å®‰è£…</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å®‰è£…Redis"><span class="toc-number">2.</span> <span class="toc-text">å®‰è£…Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è§£å‹Rediså®‰è£…åŒ…"><span class="toc-number">2.1.</span> <span class="toc-text">è§£å‹Rediså®‰è£…åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç¼–è¯‘-amp-amp-å®‰è£…"><span class="toc-number">2.2.</span> <span class="toc-text">ç¼–è¯‘&amp;&amp;å®‰è£…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¯åŠ¨æµ‹è¯•"><span class="toc-number">2.3.</span> <span class="toc-text">å¯åŠ¨æµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ‰©å±•ï¼šé…ç½®ä»¥åŠå¼€æœºå¯åŠ¨"><span class="toc-number">3.</span> <span class="toc-text">æ‰©å±•ï¼šé…ç½®ä»¥åŠå¼€æœºå¯åŠ¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#é…ç½®"><span class="toc-number">3.1.</span> <span class="toc-text">é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#é…ç½®é¡¹è¯¦è§£"><span class="toc-number">3.1.1.</span> <span class="toc-text">é…ç½®é¡¹è¯¦è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#è·å–ä¸æ›´æ–°é…ç½®"><span class="toc-number">3.1.2.</span> <span class="toc-text">è·å–ä¸æ›´æ–°é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#å‘½ä»¤è¡Œè·å–é…ç½®"><span class="toc-number">3.1.2.1.</span> <span class="toc-text">å‘½ä»¤è¡Œè·å–é…ç½®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#å‘½ä»¤è¡Œæ›´æ–°é…ç½®"><span class="toc-number">3.1.2.2.</span> <span class="toc-text">å‘½ä»¤è¡Œæ›´æ–°é…ç½®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#é…ç½®æ–‡ä»¶æ–¹å¼"><span class="toc-number">3.1.2.3.</span> <span class="toc-text">é…ç½®æ–‡ä»¶æ–¹å¼</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¼€æœºå¯åŠ¨"><span class="toc-number">3.2.</span> <span class="toc-text">å¼€æœºå¯åŠ¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#æ–°å»ºè„šæœ¬æ–‡ä»¶"><span class="toc-number">3.2.1.</span> <span class="toc-text">æ–°å»ºè„šæœ¬æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ–‡ä»¶å†…å®¹"><span class="toc-number">3.2.2.</span> <span class="toc-text">æ–‡ä»¶å†…å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ä¿®æ”¹è„šæœ¬æ–‡ä»¶æƒé™"><span class="toc-number">3.2.3.</span> <span class="toc-text">ä¿®æ”¹è„šæœ¬æ–‡ä»¶æƒé™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#è®¾ç½®å¼€æœºå¯åŠ¨"><span class="toc-number">3.2.4.</span> <span class="toc-text">è®¾ç½®å¼€æœºå¯åŠ¨</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar_b.png"></div><div class="author-info__name text-center">imxushuai</div><div class="author-info__description text-center">æœ¬ç«™æ˜¯imxushuaiçš„ä¸ªäººåšå®¢ã€‚å†…å®¹åŒ…å«æœ‰å­¦ä¹ èµ„æºåˆ†äº«ã€ITæŠ€æœ¯åˆ†äº«å’Œç”Ÿæ´»å‘¨è¾¹ï¼Œè®°å½•ä¸‹ç”Ÿæ´»çš„ç‚¹æ»´ï¼Œæ„¿ä¸å›å…±å‹‰ã€‚</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">æ–‡ç« </span><span class="pull-right">87</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">æ ‡ç­¾</span><span class="pull-right">276</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">åˆ†ç±»</span><span class="pull-right">37</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="https://github.com/imxushuai">GitHub</a><a class="author-info-links__name text-center" href="https://me.csdn.net/qq1031893936">CSDN</a><a class="author-info-links__name text-center" href="https://spring.io/projects">Spring</a><a class="author-info-links__name text-center" href="http://www.cx1314.cn/forum.php">ITèµ„æº</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://imxushuai-blog.oss-cn-chengdu.aliyuncs.com/background.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">imxushuai</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> ç«™å†…æœç´¢</span></a><a class="site-page" href="/">é¦–é¡µ</a><a class="site-page" href="/categories">åˆ†ç±»</a><a class="site-page" href="/archives">æ–‡ç« æ€»è§ˆ</a><a class="site-page" href="/2000/01/01/%e5%ad%a6%e4%b9%a0%e8%b5%84%e6%ba%90/">å­¦ä¹ èµ„æº</a><a class="site-page" href="/about">å…³äº</a></span></div><div id="post-info"><div id="post-title">Rediså®‰è£…ä»¥åŠé…ç½®è¯¦è§£</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-05-20</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Redis/">Redis</a><div class="post-meta-wordcount"><span>å­—æ•°æ€»è®¡: </span><span class="word-count">2.5k</span><span class="post-meta__separator">|</span><span>é˜…è¯»æ—¶é•¿: 8 åˆ†é’Ÿ</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><center><i>åœ¨CentOSä¸‹å®‰è£…Redisä»¥åŠRedisé…ç½®è¯¦è§£</i></center>

<p><img src="https://imxushuai-blog.oss-cn-chengdu.aliyuncs.com/redis.jpg" alt></p>
<a id="more"></a>
<h2 id="å®‰è£…Redisä¾èµ–"><a href="#å®‰è£…Redisä¾èµ–" class="headerlink" title="å®‰è£…Redisä¾èµ–"></a>å®‰è£…Redisä¾èµ–</h2><p><code>redis</code>æ˜¯<code>Cè¯­è¨€</code>å¼€å‘çš„ï¼Œå®‰è£…<code>redis</code>éœ€è¦å…ˆå°†å®˜ç½‘ä¸Šä¸‹è½½çš„æºç è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ä¾èµ–<code>gcc</code>ç¯å¢ƒã€‚</p>
<h3 id="å®‰è£…gcc-c"><a href="#å®‰è£…gcc-c" class="headerlink" title="å®‰è£…gcc-c++"></a>å®‰è£…gcc-c++</h3><p>æœ‰ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œä¸€ç§æ˜¯åœ¨çº¿å®‰è£…ï¼Œä¸€ç§æ˜¯ç¦»çº¿å®‰è£…ã€‚</p>
<h4 id="åœ¨çº¿å®‰è£…"><a href="#åœ¨çº¿å®‰è£…" class="headerlink" title="åœ¨çº¿å®‰è£…"></a>åœ¨çº¿å®‰è£…</h4><p>åœ¨çº¿å®‰è£…æ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨<code>CentOS</code>è‡ªå¸¦çš„<code>yum</code>å®‰è£…å³å¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc-c++ -y</span><br></pre></td></tr></table></figure>
<h4 id="ç¦»çº¿å®‰è£…"><a href="#ç¦»çº¿å®‰è£…" class="headerlink" title="ç¦»çº¿å®‰è£…"></a>ç¦»çº¿å®‰è£…</h4><p>ç¦»çº¿å®‰è£…å°±ç›¸å¯¹è¦å¤æ‚ä¸€ç‚¹ï¼Œéœ€è¦å®‰è£…ä¸€äº›<code>gcc</code>çš„ä¸€äº›ä¾èµ–ã€‚ä¸‹å›¾æ˜¯<code>gcc</code>ç¯å¢ƒéœ€è¦çš„ä¾èµ–ã€‚</p>
<p><img src="https://imxushuai-blog.oss-cn-chengdu.aliyuncs.com/20180521192623602.png" alt></p>
<p>æˆ‘è¿™é‡Œå·²ç»å…¨éƒ¨ä¸‹è½½å¥½äº†ï¼Œç‚¹å‡»ä¸‹é¢çš„ç™¾åº¦ç½‘ç›˜å³å¯ã€‚</p>
<blockquote>
<p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1QDwYE1WC_vngJsqNSkZ5bQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1QDwYE1WC_vngJsqNSkZ5bQ</a></p>
<p>æå–ç ï¼šny2d</p>
</blockquote>
<p>å°†ä¸‹è½½å¥½çš„è¿™äº›<code>rpm</code>åŒ…ä¸Šä¼ åˆ°ä½ çš„è¦å®‰è£…çš„æœåŠ¡å™¨ï¼Œå°†è¿™äº›<code>rpm</code>åŒ…æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚æˆ‘è¿™é‡Œå…¨éƒ¨æ”¾åœ¨äº†<code>/soft/æ–°å»ºæ–‡ä»¶å¤¹</code>ä¸­ã€‚</p>
<p><img src="https://imxushuai-blog.oss-cn-chengdu.aliyuncs.com/20180521193026633.png" alt></p>
<p><strong>å®‰è£…</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh *.rpm --nodeps --force</span><br></pre></td></tr></table></figure>
<p>å®‰è£…è¿‡ç¨‹èµ°å®Œäº†è¿‡åï¼Œå‰å¾€ /usr/bin ç›®å½•æŸ¥çœ‹æ˜¯å¦æœ‰ gccå’Œg++ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚æœæœ‰ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
<p><img src="https://imxushuai-blog.oss-cn-chengdu.aliyuncs.com/20180521193332441.png" alt></p>
<h2 id="å®‰è£…Redis"><a href="#å®‰è£…Redis" class="headerlink" title="å®‰è£…Redis"></a>å®‰è£…Redis</h2><p><strong>æå‰å°†<code>Redis</code>çš„å®‰è£…åŒ…ä¸Šä¼ è‡³æœåŠ¡å™¨ã€‚</strong></p>
<p>ä¸‹è½½æ–¹å¼ï¼š</p>
<p><a href="https://redis.io/download" target="_blank" rel="noopener">å®˜ç½‘ä¸‹è½½</a></p>
<p>ğŸ‘‡ç™¾åº¦ç½‘ç›˜ä¸‹è½½ğŸ‘‡</p>
<p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1iSuc8MyOBsOJ3Mcy1nARWQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1iSuc8MyOBsOJ3Mcy1nARWQ</a><br>æå–ç ï¼š25z1</p>
<h3 id="è§£å‹Rediså®‰è£…åŒ…"><a href="#è§£å‹Rediså®‰è£…åŒ…" class="headerlink" title="è§£å‹Rediså®‰è£…åŒ…"></a>è§£å‹Rediså®‰è£…åŒ…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf redis-4.0.9.tar.gz</span><br></pre></td></tr></table></figure>
<h3 id="ç¼–è¯‘-amp-amp-å®‰è£…"><a href="#ç¼–è¯‘-amp-amp-å®‰è£…" class="headerlink" title="ç¼–è¯‘&amp;&amp;å®‰è£…"></a>ç¼–è¯‘&amp;&amp;å®‰è£…</h3><p>è¿›å…¥è§£å‹åçš„Redisç›®å½•ä¸­ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è¿›å…¥redisç›®å½•</span></span><br><span class="line">cd redis-4.0.9</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¼–è¯‘&amp;&amp;å®‰è£…  PREFIXæŒ‡å®šå®‰è£…ç›®å½•</span></span><br><span class="line">make &amp;&amp; make install PREFIX=/usr/local/redis</span><br></pre></td></tr></table></figure>
<h3 id="å¯åŠ¨æµ‹è¯•"><a href="#å¯åŠ¨æµ‹è¯•" class="headerlink" title="å¯åŠ¨æµ‹è¯•"></a>å¯åŠ¨æµ‹è¯•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/redis/bin/redis-server</span><br></pre></td></tr></table></figure>
<p><img src="https://imxushuai-blog.oss-cn-chengdu.aliyuncs.com/20190520182612.png" alt></p>
<h2 id="æ‰©å±•ï¼šé…ç½®ä»¥åŠå¼€æœºå¯åŠ¨"><a href="#æ‰©å±•ï¼šé…ç½®ä»¥åŠå¼€æœºå¯åŠ¨" class="headerlink" title="æ‰©å±•ï¼šé…ç½®ä»¥åŠå¼€æœºå¯åŠ¨"></a>æ‰©å±•ï¼šé…ç½®ä»¥åŠå¼€æœºå¯åŠ¨</h2><p>ä¸Šé¢å®‰è£…å®Œæ¯•åï¼Œå…¶å®å·²ç»å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ä¸‹é¢ä»‹ç»ä¸‹ä¸€äº›é…ç½®å’Œå¼€æœºå¯åŠ¨ã€‚</p>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><h4 id="é…ç½®é¡¹è¯¦è§£"><a href="#é…ç½®é¡¹è¯¦è§£" class="headerlink" title="é…ç½®é¡¹è¯¦è§£"></a>é…ç½®é¡¹è¯¦è§£</h4><table>
<thead>
<tr>
<th>é…ç½®é¡¹</th>
<th>é»˜è®¤å–å€¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>daemonize</td>
<td>no</td>
<td>Redis é»˜è®¤ä¸æ˜¯ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œå¯ä»¥é€šè¿‡è¯¥é…ç½®é¡¹ä¿®æ”¹ï¼Œä½¿ç”¨ yes å¯ç”¨å®ˆæŠ¤è¿›ç¨‹ï¼ˆWindows ä¸æ”¯æŒå®ˆæŠ¤çº¿ç¨‹çš„é…ç½®ä¸º no ï¼‰</td>
</tr>
<tr>
<td>pidfile</td>
<td>/var/run/redis.pid</td>
<td>å½“ Redis ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œæ—¶ï¼ŒRedis é»˜è®¤ä¼šæŠŠ pid å†™å…¥ /var/run/redis.pid æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ pidfile æŒ‡å®š</td>
</tr>
<tr>
<td>port</td>
<td>6379</td>
<td>æŒ‡å®š Redis ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º 6379ï¼Œä½œè€…åœ¨è‡ªå·±çš„ä¸€ç¯‡åšæ–‡ä¸­è§£é‡Šäº†ä¸ºä»€ä¹ˆé€‰ç”¨ 6379 ä½œä¸ºé»˜è®¤ç«¯å£ï¼Œå› ä¸º 6379 åœ¨æ‰‹æœºæŒ‰é”®ä¸Š MERZ å¯¹åº”çš„å·ç ï¼Œè€Œ MERZ å–è‡ªæ„å¤§åˆ©æ­Œå¥³ Alessia Merz çš„åå­—</td>
</tr>
<tr>
<td>bind</td>
<td>127.0.0.1</td>
<td>ç»‘å®šçš„ä¸»æœºåœ°å€</td>
</tr>
<tr>
<td>timeout</td>
<td>300</td>
<td>å½“å®¢æˆ·ç«¯é—²ç½®å¤šé•¿æ—¶é—´åå…³é—­è¿æ¥ï¼Œå¦‚æœæŒ‡å®šä¸º 0ï¼Œè¡¨ç¤ºå…³é—­è¯¥åŠŸèƒ½</td>
</tr>
<tr>
<td>loglevel</td>
<td>notice</td>
<td>æŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«ï¼ŒRedis æ€»å…±æ”¯æŒå››ä¸ªçº§åˆ«ï¼šdebugã€verboseã€noticeã€warningï¼Œé»˜è®¤ä¸º notice</td>
</tr>
<tr>
<td>logfile</td>
<td>stdout</td>
<td>æ—¥å¿—è®°å½•æ–¹å¼ï¼Œé»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºï¼Œå¦‚æœé…ç½® Redis ä¸ºå®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œï¼Œè€Œè¿™é‡Œåˆé…ç½®ä¸ºæ—¥å¿—è®°å½•æ–¹å¼ä¸ºæ ‡å‡†è¾“å‡ºï¼Œåˆ™æ—¥å¿—å°†ä¼šå‘é€ç»™ /dev/null</td>
</tr>
<tr>
<td>databases</td>
<td>16</td>
<td>è®¾ç½®æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤æ•°æ®åº“ä¸º0ï¼Œå¯ä»¥ä½¿ç”¨SELECT å‘½ä»¤åœ¨è¿æ¥ä¸ŠæŒ‡å®šæ•°æ®åº“id</td>
</tr>
<tr>
<td>save <seconds> <changes></changes></seconds></td>
<td>é»˜è®¤é…ç½®æ–‡ä»¶ä¸­æä¾›äº†ä¸‰ä¸ªæ¡ä»¶ï¼šsave 900 1/save 300 10/save 60 10000</td>
<td>æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œæœ‰å¤šå°‘æ¬¡æ›´æ–°æ“ä½œï¼Œå°±å°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å¤šä¸ªæ¡ä»¶é…åˆ</td>
</tr>
<tr>
<td>rdbcompression</td>
<td>yes</td>
<td>æŒ‡å®šå­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸º yesï¼ŒRedis é‡‡ç”¨ LZF å‹ç¼©ï¼Œå¦‚æœä¸ºäº†èŠ‚çœ CPU æ—¶é—´ï¼Œå¯ä»¥å…³é—­è¯¥é€‰é¡¹ï¼Œä½†ä¼šå¯¼è‡´æ•°æ®åº“æ–‡ä»¶å˜çš„å·¨å¤§</td>
</tr>
<tr>
<td>dbfilename</td>
<td>dump.rdb</td>
<td>æŒ‡å®šæœ¬åœ°æ•°æ®åº“æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸º dump.rdb</td>
</tr>
<tr>
<td>dir</td>
<td>./</td>
<td>æŒ‡å®šæœ¬åœ°æ•°æ®åº“å­˜æ”¾ç›®å½•</td>
</tr>
<tr>
<td>slaveof <masterip> <masterport></masterport></masterip></td>
<td>æ— </td>
<td>è®¾ç½®å½“æœ¬æœºä¸º slav æœåŠ¡æ—¶ï¼Œè®¾ç½® master æœåŠ¡çš„ IP åœ°å€åŠç«¯å£ï¼Œåœ¨ Redis å¯åŠ¨æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ä» master è¿›è¡Œæ•°æ®åŒæ­¥</td>
</tr>
<tr>
<td>masterauth <master-password></master-password></td>
<td>æ— </td>
<td>å½“ master æœåŠ¡è®¾ç½®äº†å¯†ç ä¿æŠ¤æ—¶ï¼Œslav æœåŠ¡è¿æ¥ master çš„å¯†ç </td>
</tr>
<tr>
<td>requirepass</td>
<td>æ— </td>
<td>è®¾ç½® Redis è¿æ¥å¯†ç ï¼Œå¦‚æœé…ç½®äº†è¿æ¥å¯†ç ï¼Œå®¢æˆ·ç«¯åœ¨è¿æ¥ Redis æ—¶éœ€è¦é€šè¿‡ AUTH <password> å‘½ä»¤æä¾›å¯†ç ï¼Œé»˜è®¤å…³é—­</password></td>
</tr>
<tr>
<td>maxclients</td>
<td>æ— é™</td>
<td>è®¾ç½®åŒä¸€æ—¶é—´æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°ï¼Œé»˜è®¤æ— é™åˆ¶ï¼ŒRedis å¯ä»¥åŒæ—¶æ‰“å¼€çš„å®¢æˆ·ç«¯è¿æ¥æ•°ä¸º Redis è¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°ï¼Œå¦‚æœè®¾ç½® maxclients 0ï¼Œè¡¨ç¤ºä¸ä½œé™åˆ¶ã€‚å½“å®¢æˆ·ç«¯è¿æ¥æ•°åˆ°è¾¾é™åˆ¶æ—¶ï¼ŒRedis ä¼šå…³é—­æ–°çš„è¿æ¥å¹¶å‘å®¢æˆ·ç«¯è¿”å› max number of clients reached é”™è¯¯ä¿¡æ¯</td>
</tr>
<tr>
<td>maxmemory <bytes></bytes></td>
<td></td>
<td>æŒ‡å®š Redis æœ€å¤§å†…å­˜é™åˆ¶ï¼ŒRedis åœ¨å¯åŠ¨æ—¶ä¼šæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¾¾åˆ°æœ€å¤§å†…å­˜åï¼ŒRedis ä¼šå…ˆå°è¯•æ¸…é™¤å·²åˆ°æœŸæˆ–å³å°†åˆ°æœŸçš„ Keyï¼Œå½“æ­¤æ–¹æ³•å¤„ç†åï¼Œä»ç„¶åˆ°è¾¾æœ€å¤§å†…å­˜è®¾ç½®ï¼Œå°†æ— æ³•å†è¿›è¡Œå†™å…¥æ“ä½œï¼Œä½†ä»ç„¶å¯ä»¥è¿›è¡Œè¯»å–æ“ä½œã€‚Redis æ–°çš„ vm æœºåˆ¶ï¼Œä¼šæŠŠ Key å­˜æ”¾å†…å­˜ï¼ŒValue ä¼šå­˜æ”¾åœ¨ swap åŒº</td>
</tr>
<tr>
<td>appendonly</td>
<td>no</td>
<td>æŒ‡å®šæ˜¯å¦åœ¨æ¯æ¬¡æ›´æ–°æ“ä½œåè¿›è¡Œæ—¥å¿—è®°å½•ï¼ŒRedis åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å¼‚æ­¥çš„æŠŠæ•°æ®å†™å…¥ç£ç›˜ï¼Œå¦‚æœä¸å¼€å¯ï¼Œå¯èƒ½ä¼šåœ¨æ–­ç”µæ—¶å¯¼è‡´ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®ä¸¢å¤±ã€‚å› ä¸º redis æœ¬èº«åŒæ­¥æ•°æ®æ–‡ä»¶æ˜¯æŒ‰ä¸Šé¢ save æ¡ä»¶æ¥åŒæ­¥çš„ï¼Œæ‰€ä»¥æœ‰çš„æ•°æ®ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…åªå­˜åœ¨äºå†…å­˜ä¸­ã€‚é»˜è®¤ä¸º no</td>
</tr>
<tr>
<td>appendfilename</td>
<td>appendonly.aof</td>
<td>æŒ‡å®šæ›´æ–°æ—¥å¿—æ–‡ä»¶åï¼Œé»˜è®¤ä¸º appendonly.aof</td>
</tr>
<tr>
<td>appendfsync</td>
<td>everysec</td>
<td>æŒ‡å®šæ›´æ–°æ—¥å¿—æ¡ä»¶ï¼Œå…±æœ‰ 3 ä¸ªå¯é€‰å€¼ï¼šnoã€alwaysã€everysec</td>
</tr>
<tr>
<td>vm-enabled</td>
<td>no</td>
<td>æŒ‡å®šæ˜¯å¦å¯ç”¨è™šæ‹Ÿå†…å­˜æœºåˆ¶ï¼Œé»˜è®¤å€¼ä¸º noï¼Œç®€å•çš„ä»‹ç»ä¸€ä¸‹ï¼ŒVM æœºåˆ¶å°†æ•°æ®åˆ†é¡µå­˜æ”¾ï¼Œç”± Redis å°†è®¿é—®é‡è¾ƒå°‘çš„é¡µå³å†·æ•°æ® swap åˆ°ç£ç›˜ä¸Šï¼Œè®¿é—®å¤šçš„é¡µé¢ç”±ç£ç›˜è‡ªåŠ¨æ¢å‡ºåˆ°å†…å­˜ä¸­ï¼ˆåœ¨åé¢çš„æ–‡ç« æˆ‘ä¼šä»”ç»†åˆ†æ Redis çš„ VM æœºåˆ¶ï¼‰</td>
</tr>
<tr>
<td>vm-swap-file</td>
<td>/tmp/redis.swap</td>
<td>è™šæ‹Ÿå†…å­˜æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤å€¼ä¸º /tmp/redis.swapï¼Œä¸å¯å¤šä¸ª Redis å®ä¾‹å…±äº«</td>
</tr>
<tr>
<td>vm-max-memory</td>
<td>0</td>
<td>å°†æ‰€æœ‰å¤§äº vm-max-memory çš„æ•°æ®å­˜å…¥è™šæ‹Ÿå†…å­˜ï¼Œæ— è®º vm-max-memory è®¾ç½®å¤šå°ï¼Œæ‰€æœ‰ç´¢å¼•æ•°æ®éƒ½æ˜¯å†…å­˜å­˜å‚¨çš„(Redis çš„ç´¢å¼•æ•°æ® å°±æ˜¯ keys)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ vm-max-memory è®¾ç½®ä¸º 0 çš„æ—¶å€™ï¼Œå…¶å®æ˜¯æ‰€æœ‰ value éƒ½å­˜åœ¨äºç£ç›˜ã€‚é»˜è®¤å€¼ä¸º 0</td>
</tr>
<tr>
<td>vm-page-size</td>
<td>32</td>
<td>Redis swap æ–‡ä»¶åˆ†æˆäº†å¾ˆå¤šçš„ pageï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥ä¿å­˜åœ¨å¤šä¸ª page ä¸Šé¢ï¼Œä½†ä¸€ä¸ª page ä¸Šä¸èƒ½è¢«å¤šä¸ªå¯¹è±¡å…±äº«ï¼Œvm-page-size æ˜¯è¦æ ¹æ®å­˜å‚¨çš„ æ•°æ®å¤§å°æ¥è®¾å®šçš„ï¼Œä½œè€…å»ºè®®å¦‚æœå­˜å‚¨å¾ˆå¤šå°å¯¹è±¡ï¼Œpage å¤§å°æœ€å¥½è®¾ç½®ä¸º 32 æˆ–è€… 64bytesï¼›å¦‚æœå­˜å‚¨å¾ˆå¤§å¤§å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ›´å¤§çš„ pageï¼Œå¦‚æœä¸ç¡®å®šï¼Œå°±ä½¿ç”¨é»˜è®¤å€¼</td>
</tr>
<tr>
<td>vm-pages</td>
<td>134217728</td>
<td>è®¾ç½® swap æ–‡ä»¶ä¸­çš„ page æ•°é‡ï¼Œç”±äºé¡µè¡¨ï¼ˆä¸€ç§è¡¨ç¤ºé¡µé¢ç©ºé—²æˆ–ä½¿ç”¨çš„ bitmapï¼‰æ˜¯åœ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œï¼Œåœ¨ç£ç›˜ä¸Šæ¯ 8 ä¸ª pages å°†æ¶ˆè€— 1byte çš„å†…å­˜ã€‚</td>
</tr>
<tr>
<td>vm-max-threads</td>
<td>4</td>
<td>è®¾ç½®è®¿é—®swapæ–‡ä»¶çš„çº¿ç¨‹æ•°,æœ€å¥½ä¸è¦è¶…è¿‡æœºå™¨çš„æ ¸æ•°,å¦‚æœè®¾ç½®ä¸º0,é‚£ä¹ˆæ‰€æœ‰å¯¹swapæ–‡ä»¶çš„æ“ä½œéƒ½æ˜¯ä¸²è¡Œçš„ï¼Œå¯èƒ½ä¼šé€ æˆæ¯”è¾ƒé•¿æ—¶é—´çš„å»¶è¿Ÿã€‚é»˜è®¤å€¼ä¸º4</td>
</tr>
<tr>
<td>glueoutputbuf</td>
<td>yes</td>
<td>è®¾ç½®åœ¨å‘å®¢æˆ·ç«¯åº”ç­”æ—¶ï¼Œæ˜¯å¦æŠŠè¾ƒå°çš„åŒ…åˆå¹¶ä¸ºä¸€ä¸ªåŒ…å‘é€ï¼Œé»˜è®¤ä¸ºå¼€å¯</td>
</tr>
<tr>
<td>activerehashing</td>
<td>yes</td>
<td>æŒ‡å®šæ˜¯å¦æ¿€æ´»é‡ç½®å“ˆå¸Œï¼Œé»˜è®¤ä¸ºå¼€å¯</td>
</tr>
<tr>
<td>include</td>
<td>/path/to/local.conf</td>
<td>æŒ‡å®šåŒ…å«å…¶å®ƒçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šå¤šä¸ªRediså®ä¾‹ä¹‹é—´ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œè€ŒåŒæ—¶å„ä¸ªå®ä¾‹åˆæ‹¥æœ‰è‡ªå·±çš„ç‰¹å®šé…ç½®æ–‡ä»¶</td>
</tr>
<tr>
<td>hash-max-zipmap-entries</td>
<td>64</td>
<td>æŒ‡å®šåœ¨è¶…è¿‡ä¸€å®šçš„æ•°é‡æˆ–è€…æœ€å¤§çš„å…ƒç´ è¶…è¿‡æŸä¸€ä¸´ç•Œå€¼æ—¶ï¼Œé‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œç®—æ³•</td>
</tr>
<tr>
<td>hash-max-zipmap-value</td>
<td>512</td>
<td>æŒ‡å®šåœ¨è¶…è¿‡ä¸€å®šçš„æ•°é‡æˆ–è€…æœ€å¤§çš„å…ƒç´ è¶…è¿‡æŸä¸€ä¸´ç•Œå€¼æ—¶ï¼Œé‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œç®—æ³•</td>
</tr>
</tbody>
</table>
<h4 id="è·å–ä¸æ›´æ–°é…ç½®"><a href="#è·å–ä¸æ›´æ–°é…ç½®" class="headerlink" title="è·å–ä¸æ›´æ–°é…ç½®"></a>è·å–ä¸æ›´æ–°é…ç½®</h4><h5 id="å‘½ä»¤è¡Œè·å–é…ç½®"><a href="#å‘½ä»¤è¡Œè·å–é…ç½®" class="headerlink" title="å‘½ä»¤è¡Œè·å–é…ç½®"></a>å‘½ä»¤è¡Œè·å–é…ç½®</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è·å–å•ä¸ªé…ç½®é¡¹</span></span><br><span class="line">CONFIG GET $&#123;CONFIG_SETTING_NAME&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash"> è·å–å…¨éƒ¨é…ç½®,ä½¿ç”¨é€šé…ç¬¦ *</span></span><br><span class="line">CONFIG GET *</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å…·ä½“é…ç½®é¡¹åç§°ï¼Œå–ä»£<code>CONFIG_SETTING_NAME</code>ã€‚</p>
<h5 id="å‘½ä»¤è¡Œæ›´æ–°é…ç½®"><a href="#å‘½ä»¤è¡Œæ›´æ–°é…ç½®" class="headerlink" title="å‘½ä»¤è¡Œæ›´æ–°é…ç½®"></a>å‘½ä»¤è¡Œæ›´æ–°é…ç½®</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONFIG SET $&#123;CONFIG_SETTING_NAME&#125; $&#123;NEW_CONFIG_VALUE&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå…·ä½“é…ç½®é¡¹ï¼Œç¬¬äºŒä¸ªå‚æ•°è¯¥é…ç½®é¡¹çš„å€¼ã€‚</p>
<h5 id="é…ç½®æ–‡ä»¶æ–¹å¼"><a href="#é…ç½®æ–‡ä»¶æ–¹å¼" class="headerlink" title="é…ç½®æ–‡ä»¶æ–¹å¼"></a>é…ç½®æ–‡ä»¶æ–¹å¼</h5><ol>
<li><p>å¤åˆ¶å®‰è£…åŒ…ä¸‹çš„<code>redis.conf</code>æ–‡ä»¶åˆ°<code>/usr/local/redis/bin</code>ç›®å½•ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /root/redis-4.0.9/redis.conf /usr/local/redis/bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡ç¼–è¾‘<code>/usr/local/redis/bin/redis.conf</code>æ¥ä¿®æ”¹é…ç½®ï¼Œåœ¨å¯åŠ¨æ—¶ï¼ŒæŒ‡å®šä½¿ç”¨è¯¥é…ç½®æ–‡ä»¶å¯åŠ¨å³å¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/redis/bin/redis-server /usr/local/redis/bin/redis.conf</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="å¼€æœºå¯åŠ¨"><a href="#å¼€æœºå¯åŠ¨" class="headerlink" title="å¼€æœºå¯åŠ¨"></a>å¼€æœºå¯åŠ¨</h3><h4 id="æ–°å»ºè„šæœ¬æ–‡ä»¶"><a href="#æ–°å»ºè„šæœ¬æ–‡ä»¶" class="headerlink" title="æ–°å»ºè„šæœ¬æ–‡ä»¶"></a>æ–°å»ºè„šæœ¬æ–‡ä»¶</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/init.d/redis</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚æœæ²¡æœ‰å®‰è£…<code>vim</code>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>vi</code></p>
</blockquote>
<h4 id="æ–‡ä»¶å†…å®¹"><a href="#æ–‡ä»¶å†…å®¹" class="headerlink" title="æ–‡ä»¶å†…å®¹"></a>æ–‡ä»¶å†…å®¹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> chkconfig:   2345 90 10</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> description:  Redis is a persistent key-value database</span></span><br><span class="line">PATH=/usr/local/bin:/sbin:/usr/bin:/bin</span><br><span class="line"></span><br><span class="line">REDISPORT=6379</span><br><span class="line">EXEC=/usr/local/redis/bin/redis-server</span><br><span class="line">REDIS_CLI=/usr/local/redis/bin/redis-cli</span><br><span class="line"></span><br><span class="line">PIDFILE=/var/run/redis.pid</span><br><span class="line"></span><br><span class="line">CONF="/usr/local/redis/bin/redis.conf"</span><br><span class="line"></span><br><span class="line">case "$1" in  </span><br><span class="line">    start)  </span><br><span class="line">        if [ -f $PIDFILE ]  </span><br><span class="line">        then  </span><br><span class="line">                echo "$PIDFILE exists, process is already running or crashed"  </span><br><span class="line">        else  </span><br><span class="line">                echo "Starting Redis server..."  </span><br><span class="line">                $EXEC $CONF  </span><br><span class="line">        fi  </span><br><span class="line">        if [ "$?"="0" ]   </span><br><span class="line">        then  </span><br><span class="line">              echo "Redis is running..."  </span><br><span class="line">        fi  </span><br><span class="line">        ;;  </span><br><span class="line">    stop)  </span><br><span class="line">        if [ ! -f $PIDFILE ]  </span><br><span class="line">        then  </span><br><span class="line">                echo "$PIDFILE does not exist, process is not running"  </span><br><span class="line">        else  </span><br><span class="line">                PID=$(cat $PIDFILE)  </span><br><span class="line">                echo "Stopping ..."  </span><br><span class="line">                $REDIS_CLI -p $REDISPORT SHUTDOWN  </span><br><span class="line">                while [ -x $&#123;PIDFILE&#125; ]  </span><br><span class="line">               do  </span><br><span class="line">                    echo "Waiting for Redis to shutdown ..."  </span><br><span class="line">                    sleep 1  </span><br><span class="line">                done  </span><br><span class="line">                echo "Redis stopped"  </span><br><span class="line">        fi  </span><br><span class="line">        ;;  </span><br><span class="line">   restart|force-reload)  </span><br><span class="line">        $&#123;0&#125; stop  </span><br><span class="line">        $&#123;0&#125; start  </span><br><span class="line">        ;;  </span><br><span class="line">  *)  </span><br><span class="line">    echo "Usage: /etc/init.d/redis &#123;start|stop|restart|force-reload&#125;" &gt;&amp;2  </span><br><span class="line">        exit 1  </span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p><strong>è„šæœ¬éƒ¨åˆ†å†…å®¹è§£é‡Š:</strong></p>
<ul>
<li><p><code>EXEC=/usr/local/redis/bin/redis-server</code>ï¼šæ‰§è¡Œè„šæœ¬çš„åœ°å€</p>
</li>
<li><p><code>REDIS_CLI=/usr/local/redis/bin/redis-cli</code>ï¼šå®¢æˆ·ç«¯æ‰§è¡Œè„šæœ¬çš„åœ°å€</p>
</li>
<li><p><code>PIDFILE=/var/run/redis.pid</code>ï¼šè¿›ç¨‹idæ–‡ä»¶åœ°å€</p>
</li>
<li><p><code>CONF=&quot;/usr/local/redis/bin/redis.conf&quot;</code>ï¼šé…ç½®æ–‡ä»¶åœ°å€</p>
</li>
</ul>
<blockquote>
<p>éœ€è¦æ ¹æ®ä½ çš„å®‰è£…ä½ç½®è‡ªè¡Œè°ƒæ•´è„šæœ¬ä¸­çš„å‚æ•°ã€‚</p>
</blockquote>
<h4 id="ä¿®æ”¹è„šæœ¬æ–‡ä»¶æƒé™"><a href="#ä¿®æ”¹è„šæœ¬æ–‡ä»¶æƒé™" class="headerlink" title="ä¿®æ”¹è„šæœ¬æ–‡ä»¶æƒé™"></a>ä¿®æ”¹è„šæœ¬æ–‡ä»¶æƒé™</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 /etc/init.d/redis</span><br></pre></td></tr></table></figure>
<h4 id="è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="è®¾ç½®å¼€æœºå¯åŠ¨"></a>è®¾ç½®å¼€æœºå¯åŠ¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --add /etc/init.d/redis</span><br><span class="line">chkconfig redis on</span><br></pre></td></tr></table></figure>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">imxushuai</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://www.imxushuai.com/2018/05/20/Rediså®‰è£…ä»¥åŠé…ç½®è¯¦è§£/">https://www.imxushuai.com/2018/05/20/Rediså®‰è£…ä»¥åŠé…ç½®è¯¦è§£/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://www.imxushuai.com">imxushuai</a>ï¼</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Redis/">Redis</a><a class="post-meta__tags" href="/tags/Rediså®‰è£…/">Rediså®‰è£…</a><a class="post-meta__tags" href="/tags/Redisé…ç½®è¯¦è§£/">Redisé…ç½®è¯¦è§£</a><a class="post-meta__tags" href="/tags/gcc-c/">gcc-c++</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">æ”¯ä»˜å®æ‰“èµ</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="/img/wechatpay.jpg"><div class="post-qr-code__desc">å¾®ä¿¡æ‰“èµ</div></div></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/07/22/FastDFSç®€ä»‹/"><i class="fa fa-chevron-left">  </i><span>FastDFSç®€ä»‹</span></a></div><div class="next-post pull-right"><a href="/2018/05/13/Ngxinå®‰è£…/"><span>Ngxinå®‰è£…</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '5d894987ff69ff0ceb17',
  clientSecret: '411e2ea94ae376885bd6355986f98bf42462b8f3',
  repo: 'gitalk',
  owner: 'imxushuai',
  admin: 'imxushuai',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://imxushuai-blog.oss-cn-chengdu.aliyuncs.com/background.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2022 By imxushuai</div><div class="framework-info"><span>é©±åŠ¨ - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div><script>(function (T, h, i, n, k, P, a, g, e) {
    g = function () {
        P = h.createElement(i);
        a = h.getElementsByTagName(i)[0];
        P.src = k;
        P.charset = "utf-8";
        P.async = 1;
        a.parentNode.insertBefore(P, a)
    };
    T["ThinkPageWeatherWidgetObject"] = n;
    T[n] || (T[n] = function () {
        (T[n].q = T[n].q || []).push(arguments)
    });
    T[n].l = +new Date();
    if (T.attachEvent) {
        T.attachEvent("onload", g)
    } else {
        T.addEventListener("load", g, false)
    }
}(window, document, "script", "tpwidget", "//widget.seniverse.com/widget/chameleon.js"))</script><script>var showFlag = true;
var os = function() {var ua = navigator.userAgent,isWindowsPhone = /(?:Windows Phone)/.test(ua),isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone, isAndroid = /(?:Android)/.test(ua), isFireFox = /(?:Firefox)/.test(ua), isChrome = /(?:Chrome|CriOS)/.test(ua), isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua)), isPhone = /(?:iPhone)/.test(ua) && !isTablet, isPc = !isPhone && !isAndroid && !isSymbian;return {isTablet: isTablet, isPhone: isPhone, isAndroid : isAndroid, isPc : isPc};}();
if (os.isAndroid || os.isPhone) {
    showFlag = false;
}
tpwidget("init", {
    "flavor": "bubble",
    "location": "WM6N2PM3WY2K",
    "geolocation": "enabled",
    "position": "bottom-right",
    "margin": "17px 70px",
    "language": "auto",
    "unit": "c",
    "theme": "chameleon",
    "uid": "UEB839A1CD",
    "hash": "28ca33b0751401a8e994a76ed0e253cd"
})
if (showFlag) {
    tpwidget("show");
}
window.addEventListener("resize", function(){
    console.log(document.documentElement.clientWidth)
    if (document.documentElement.clientWidth < 1065) {
        console.log("false")
    } else {
        console.log("true")
    }
})</script></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/algolia.js"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>